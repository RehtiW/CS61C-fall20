## N路组关联缓存
#### Index字段指向由"行"->"组"
#### 每组包含N个块
#### 当定位到正确的组,需要比较所有组内的tag来找到正确的块
![[Pasted image 20241226214946.png]]

## 组关联缓存的优势
#### 避免许多冲突缓存(空间缓存取而代之)
#### 硬件实现只需要多出N个比较器
![[Pasted image 20241226215300.png]]

## 以四路组关联缓存为例
#### 如图多了四个比较器,只要组内某个块hit则输出hit
#### 组内各块的hit信号分别进入MUX的信号端(One Hot Encoding)
![[Pasted image 20241226215437.png]]

## 块交换策略
当访问未在缓存的某内存且该内存将缓存的组已满，此时需要丢弃组内某块
![[Pasted image 20241229195313.png]]
### LRU
替换最不经常访问的块
**优势**:**时间局部性**
**劣势**:如果是两块一组则很容易跟踪访问频率,尽管是四块一组或更大,则需要复杂的硬件和更多的时间取跟踪频率信息
### FIFO
先进先出
### Random
随机

## 性能模型
注意不需要在HitTime后乘上HitRate，因为如果未命中，则未命中惩罚后再在缓存上重新命中，所以Hit Time包含命中和未命中的"命中时间"
![[Pasted image 20241229195718.png]]
## 为降低未命中惩罚
**增加L2,L3缓存**
![[Pasted image 20241229200017.png]]
### 案例比对
![[Pasted image 20241229200126.png]]
![[Pasted image 20241229200150.png]]